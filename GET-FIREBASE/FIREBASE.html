<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style type="text/css">
        @keyframes ldio-e4cbjlrj4np-o {
            0%    { opacity: 1; transform: translate(0 0) }
           49.99% { opacity: 1; transform: translate(80px,0) }
           50%    { opacity: 0; transform: translate(80px,0) }
          100%    { opacity: 0; transform: translate(0,0) }
        }
        @keyframes ldio-e4cbjlrj4np {
            0% { transform: translate(0,0) }
           50% { transform: translate(80px,0) }
          100% { transform: translate(0,0) }
        }
        .ldio-e4cbjlrj4np div {
          position: absolute;
          width: 80px;
          height: 80px;
          border-radius: 50%;
          top: 60px;
          left: 20px;
        }
        .ldio-e4cbjlrj4np div:nth-child(1) {
          background: #e90c59;
          animation: ldio-e4cbjlrj4np 1s linear infinite;
          animation-delay: -0.5s;
        }
        .ldio-e4cbjlrj4np div:nth-child(2) {
          background: #46dff0;
          animation: ldio-e4cbjlrj4np 1s linear infinite;
          animation-delay: 0s;
        }
        .ldio-e4cbjlrj4np div:nth-child(3) {
          background: #e90c59;
          animation: ldio-e4cbjlrj4np-o 1s linear infinite;
          animation-delay: -0.5s;
        }
        .loadingio-spinner-dual-ball-9gcci0pj5tb {
          width: 200px;
          height: 200px;
          display: inline-block;
          overflow: hidden;
          background: #ffffff;
        }
        .ldio-e4cbjlrj4np {
          width: 100%;
          height: 100%;
          position: relative;
          transform: translateZ(0) scale(1);
          backface-visibility: hidden;
          transform-origin: 0 0; /* see note above */
        }
        .ldio-e4cbjlrj4np div { box-sizing: content-box; }
        /* generated by https://loading.io/ */
        </style>
</head>
<body>
    <div id="container"></div>
    <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
    <script id="loadingIndocator" type="text/x-handlebars-template">
        <div class="loadingio-spinner-dual-ball-9gcci0pj5tb">
            <div class="ldio-e4cbjlrj4np">
                <div></div>
                <div></div>
                <div></div>
                </div></div>
            </div>
        </div>
    </script>
    <script id="card" type="text/x-handlebars-template">
        {{#each gadget}}
            <div class="card" >
                <h1 class="title">gadget:</h1>
                <ul>
                    <li>merk: {{merk}}</li>
                    <li>model:{{model}}</li>
                    <li>price: {{price}}</li>
                </ul>
            
            </div>
        {{/each}}
    </script>
    <script ></script>
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js'

        import { getAnalytics } from 'https://www.gstatic.com/firebasejs/10.4.0/firebase-analytics.js'

        import { getAuth } from 'https://www.gstatic.com/firebasejs/10.4.0/firebase-auth.js'
        import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.4.0/firebase-firestore.js'
        const firebaseConfig = {
        apiKey: "AIzaSyBwcAMvb9Og8Q305giQdFnBDx6_LB84kG4",
        authDomain: "asepgunawan-project.firebaseapp.com",
        databaseURL: "https://asepgunawan-project-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "asepgunawan-project",
        storageBucket: "asepgunawan-project.appspot.com",
        messagingSenderId: "833794730767",
        appId: "1:833794730767:web:e32a897ca82be38a69ec7a"
        };

        const app = initializeApp(firebaseConfig);

        async function getData(){
            let data = null;
            let container = document.getElementById("container");
            let loadingIndocatorTemplete = Handlebars.compile(document.getElementById("loadingIndocator").innerHTML);
            container.innerHTML = loadingIndocatorTemplete();
            try{
                let result = await fetch("https://asepgunawan-project-default-rtdb.asia-southeast1.firebasedatabase.app/gadgetes.json")

                data = await result.json();
            }catch (error){
                console.error(error);
            }finally{
                container.innerHTML ="";
                return(data);
            }

        }
        let device={
            gadget : await getData()
        }

        let cardTemplete = Handlebars.compile(document.getElementById("card").innerHTML);
        document.getElementById("container").innerHTML = cardTemplete(device);
      </script>
</body>
</html>